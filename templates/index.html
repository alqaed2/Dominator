<!-- Ø§Ø³ØªØ¨Ø¯Ù„ ÙÙ‚Ø· Ø¯Ø§Ù„Ø© triggerDiscovery ÙÙŠ Ù…Ù„Ù index.html -->
<script>
    async function triggerDiscovery() {
        const btn = document.getElementById('discoverBtn');
        const status = document.getElementById('alchemyStatus');
        btn.disabled = true; btn.innerHTML = "Ø¬Ø§Ø±ÙŠ ØªÙØ¹ÙŠÙ„ Nebula...";
        status.innerText = "â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø­Ø±Ùƒ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ØªØ§Ø­ (Nebula Protocol)...";
        
        try {
            const res = await fetch('/alchemy/discover', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({niche: document.getElementById('niche').value, target_data: document.getElementById('targetData').value})
            });
            const data = await res.json();
            
            if (data.super_post.includes("ğŸš¨")) {
                status.innerText = "âš ï¸ ÙƒØ§ÙØ© Ø§Ù„Ù…Ø­Ø±ÙƒØ§Øª Ù…Ø¶ØºÙˆØ·Ø© Ø­Ø§Ù„ÙŠØ§Ù‹ØŒ Ø§Ù†ØªØ¸Ø± Ø«ÙˆØ§Ù†Ù ÙˆØ£Ø¹Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©.";
            } else {
                lastAlchemyResult = data;
                document.getElementById('goldSuggestions').innerHTML = `
                    <div class="cyber-card" style="padding:15px; margin-top:15px; border-color:var(--neon-blue);">
                        <span>ğŸŒŸ ØªÙ… ØªØ®Ù„ÙŠÙ‚ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©</span>
                        <button onclick="openModal()" class="cyber-btn" style="margin-top:10px; padding:10px; font-size:13px;">ÙØªØ­ Ø§Ù„Ù…Ø®ØªØ¨Ø±</button>
                    </div>`;
                status.innerText = "âœ… ØªÙ… Ø§Ù„Ø¹Ø¨ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­!";
            }
        } catch (e) { status.innerText = "âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù…ÙØ§Ø¹Ù„."; }
        btn.disabled = false; btn.innerHTML = "ØªØ®Ù„ÙŠÙ‚ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠØ©";
    }
</script>
