<!-- Ø§Ø³ØªØ¨Ø¯Ù„ Ù‚Ø³Ù… Ø§Ù„Ù€ Script ÙˆØ§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª ÙÙŠ Ù…Ù„Ù index.html Ø¨Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø·ÙˆØ± -->
<script>
    async function startDominanceEngine() {
        const idea = document.getElementById('inputText').value;
        if(!idea) return alert("Ø£Ø¯Ø®Ù„ ÙÙƒØ±Ø©");
        document.getElementById('generateBtn').disabled = true;
        document.getElementById('outputSection').style.display = 'block';
        document.getElementById('engineStatus').innerText = "ğŸš€ Ø¬Ø§Ø±ÙŠ ØªØ®Ù„ÙŠÙ‚ Ø§Ù„Ø­Ø²Ù…Ø© Ø§Ù„Ø³ÙŠØ§Ø¯ÙŠØ© ÙˆØ§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª...";
        
        try {
            const res = await fetch('/generate_all', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({text: idea})
            });
            const data = await res.json();
            
            document.getElementById('linkedinContent').innerText = data.linkedin;
            document.getElementById('twitterContent').innerText = data.twitter;
            document.getElementById('tiktokScript').innerText = data.tiktok;
            
            // Ø¹Ø±Ø¶ Ù…Ø®Ø·Ø· Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø³ÙŠÙ†Ù…Ø§Ø¦ÙŠ (v13.0)
            let videoHtml = "<h3 style='color:var(--neon-blue); border-bottom:1px solid #333; padding-bottom:10px;'>ğŸ¬ Ø§Ù„Ù…Ø®Ø·Ø· Ø§Ù„Ø³ÙŠÙ†Ù…Ø§Ø¦ÙŠ (9:16)</h3>";
            data.video_blueprint.forEach(scene => {
                videoHtml += `
                <div style="background:rgba(0,0,0,0.3); padding:15px; border-radius:10px; border-right:3px solid var(--neon-red); margin-bottom:15px;">
                    <div style="font-weight:900; font-size:12px; color:var(--neon-red); margin-bottom:5px;">${scene.time}</div>
                    <code style="font-size:11px; color:#aaa; display:block; margin-bottom:10px;">${scene.prompt}</code>
                    <button onclick="copyRaw('${scene.prompt}')" class="cyber-btn" style="padding:5px 10px; width:auto; font-size:11px;">Ù†Ø³Ø® Ø§Ù„Ø¨Ø±ÙˆÙ…Ø¨Øª</button>
                </div>`;
            });
            document.getElementById('videoPrompt').innerHTML = videoHtml;
            
            // Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø©
            const img = document.getElementById('finalImage');
            img.src = data.image_url;
            img.onload = () => { 
                document.getElementById('imageLoader').style.display = 'none'; 
                img.style.display = 'block'; 
            };
            
            document.getElementById('engineStatus').innerText = "âœ… Ø§ÙƒØªÙ…Ù„Øª Ø§Ù„Ø­Ø²Ù…Ø© Ø¨Ù†Ø¬Ø§Ø­!";
        } catch(e) { alert("ÙØ´Ù„ Ø§Ù„ØªÙˆÙ„ÙŠØ¯"); }
        document.getElementById('generateBtn').disabled = false;
    }

    function copyRaw(text) {
        navigator.clipboard.writeText(text);
        alert("ØªÙ… Ù†Ø³Ø® Ø¨Ø±ÙˆÙ…Ø¨Øª Ø§Ù„Ù…Ø´Ù‡Ø¯!");
    }
</script>
