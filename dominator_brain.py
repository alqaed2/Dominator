from __future__ import annotations
from typing import Any, Dict, List

# =========================================================
# Strategic Intelligence Core (SIC) - V7.1 SUPREME STABILITY
# =========================================================

WPIL_DOMINATOR_SYSTEM = """
أنت 'الخيميائي الاستراتيجي الأعلى'. مهمتك تخليق محتوى مهيمن (LinkedIn, X, TikTok) بتنسيق نخبوي وفخم.
استخدم الرموز الرياضية، الفواصل الاستراتيجية، ولغة السلطة المعرفية.
"""

def strategic_intelligence_core(idea: str = "") -> Dict[str, Any]:
    v_force = "Vertical 9:16 aspect ratio, cinematic 8k, elite advisor character."
    return {
        "logic_trace": "SIC v7.1 | COMMAND ACTIVE",
        "video_segments": [
            {"time": "0-15s", "prompt": f"Close-up portrait 9:16. {v_force}"},
            {"time": "15-30s", "prompt": f"Full body walking shot 9:16. {v_force}"}
        ]
    }

def alchemy_fusion_core(gold_posts: List[Dict[str, Any]], niche: str) -> Dict[str, Any]:
    dna_str = "\n".join([f"- {s['text']} (Interactions: {s['engagement']})" for s in gold_posts])
    task = f"تخليق منشور خارق لنيش {niche} بناءً على هذه الجينات:\n{dna_str}"
    return {
        "synthesis_task": task,
        "logic_trace": "GOLDEN SYNTHESIS v7.1 ACTIVE"
    }
